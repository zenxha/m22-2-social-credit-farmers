
<!-- This page is illustrative and contains ideas about HTML formatting -->
<!DOCTYPE HTML>
<!-- Signals to the Layout Dialect which layout should be used to decorate this View -->
<html xmlns:layout="http://www.w3.org/1999/xhtml" xmlns:th="http://www.w3.org/1999/xhtml"
      layout:decorate="~{base/layout}" lang="en">

<head><div layout:fragment="metadata" th:remove="tag">
    <title>Week 1</title>
    <link rel="stylesheet" th:href="@{/css/button.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <script th:inline="javascript">
        const everyone = [[${FRQlist}]]
        const renderAll = (text) =>{
            everyone.forEach(person => {
                document.getElementById(person.name).innerHTML = text
                const load = document.createElement("div")
                load.className = "spinner-border text-info"
                load.innerHTML = "<span class=\"visually-hidden\">Loading...</span>"
                load.role="status"
                load.appendChild(load)
            })
        }
        function renderOutput() {
            renderAll("Loading...")
            setTimeout(() => {
                everyone.forEach(person => {
                    document.getElementById(person.name).innerHTML = person.output
                })
                console.log(everyone)
            },900)
            console.log([[${gistSrc}]])

        }
        function oo() {
            console.log("oo")
        }
        // document.getElementById("runbtn").addEventListener("click", renderOutput)
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</div></head>

<!-- layout::fragment="content" is heart of ThymeLeaf layout -->
<body><div layout:fragment="content" th:remove="tag">
    <!-- Start of body content specific to page -->
<div class="container">
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">See  the code</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <script src="https://gist.github.com/zenxha/26d0f54b6dadec2616dc7f07e35150e6.js"></script>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="mt-4 p-5 bg-light text-white rounded" id="jumbotron">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <h3>FRQ Week 1</h3>
                <table class="table">
                    <thead>
                    <tr>
                        <th scope="col">Name</th>
                        <th scope="col">Gist Link</th>
                        <th scope="col">Output</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="frq : ${FRQlist}">
                        <td th:text="${frq.getName()}"></td>
                        <td><a th:href="${frq.getGist()}">Open</a></td>
                        <td th:id="${frq.getName}"><i class="fas fa-circle-notch"></i></td>
                    </tr>
                    </tbody>
                </table>
                <btn id="runbtn" onclick="renderOutput()"class="btn-grad">Run</btn>
                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                    See Code
                </button>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col">
            </div>
        </div>
    </div>
    <div class="col">

    </div>
</div>
</div>

    <!-- End of body content specific to page -->
<style>
    #jumbotron {
        width: 500px
    }
</style>

</div></body>

</html>